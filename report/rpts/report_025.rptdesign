<?xml version="1.0" encoding="UTF-8"?>
<report xmlns="http://www.eclipse.org/birt/2005/design" version="3.2.23" id="1">
    <property name="author">柳溪</property>
    <property name="createdBy">Eclipse BIRT Designer Version 4.5.0.v201506092134 Build &lt;@BUILD@></property>
    <text-property name="title">【广告统计】广告机数据统计</text-property>
    <html-property name="description">【广告统计】广告机数据统计</html-property>
    <list-property name="userProperties">
        <structure>
            <property name="name">dc_001.ds_001.x</property>
            <property name="type">integer</property>
            <property name="isVisible">false</property>
        </structure>
        <structure>
            <property name="name">dc_001.ds_001.y</property>
            <property name="type">integer</property>
            <property name="isVisible">false</property>
        </structure>
    </list-property>
    <property name="dc_001.ds_001.x">135</property>
    <property name="dc_001.ds_001.y">80</property>
    <property name="units">in</property>
    <property name="theme">common.defaultTheme</property>
    <property name="iconFile">/templates/blank_report.gif</property>
    <property name="layoutPreference">auto layout</property>
    <property name="bidiLayoutOrientation">ltr</property>
    <property name="imageDPI">72</property>
    <list-property name="libraries">
        <structure>
            <property name="fileName">common.rptlibrary</property>
            <property name="namespace">common</property>
        </structure>
    </list-property>
    <parameters>
        <scalar-parameter name="date_start" id="524">
            <text-property name="helpText">开始日期</text-property>
            <text-property name="promptText">开始日期</text-property>
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">date</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="javascript">var date = new Date(new Date().getTime()-24*60*60*1000);
date.getFullYear()+"-"+(date.getMonth()+1)+"-"+date.getDate()</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Custom</property>
                <property name="pattern">yyyy-MM-dd</property>
            </structure>
        </scalar-parameter>
        <scalar-parameter name="date_end" id="567">
            <text-property name="helpText">结束日期</text-property>
            <text-property name="promptText">结束日期</text-property>
            <property name="valueType">static</property>
            <property name="isRequired">false</property>
            <property name="dataType">date</property>
            <property name="distinct">true</property>
            <simple-property-list name="defaultValue">
                <value type="javascript">var date = new Date(new Date().getTime()-24*60*60*1000);
date.getFullYear()+"-"+(date.getMonth()+1)+"-"+date.getDate()</value>
            </simple-property-list>
            <list-property name="selectionList"/>
            <property name="paramType">simple</property>
            <property name="concealValue">false</property>
            <property name="controlType">text-box</property>
            <structure name="format">
                <property name="category">Custom</property>
                <property name="pattern">yyyy-MM-dd</property>
            </structure>
        </scalar-parameter>
    </parameters>
    <data-sources>
        <oda-data-source extensionID="org.eclipse.birt.report.data.oda.jdbc" name="Data Source" id="4">
            <list-property name="privateDriverProperties">
                <ex-property>
                    <name>metadataBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
                <ex-property>
                    <name>disabledMetadataBidiFormatStr</name>
                </ex-property>
                <ex-property>
                    <name>contentBidiFormatStr</name>
                    <value>ILYNN</value>
                </ex-property>
                <ex-property>
                    <name>disabledContentBidiFormatStr</name>
                </ex-property>
            </list-property>
            <property name="odaDriverClass">com.mysql.jdbc.Driver</property>
            <property name="odaURL">jdbc:mysql://blsmshop.mysql.rds.aliyuncs.com:3306/adultshop_production</property>
            <property name="odaUser">staging_user</property>
            <encrypted-property name="odaPassword" encryptionID="base64">c3RhZ2luZzEyMDc=</encrypted-property>
        </oda-data-source>
    </data-sources>
    <data-sets>
        <oda-data-set extensionID="org.eclipse.birt.report.data.oda.jdbc.JdbcSelectDataSet" name="ds_001" id="441">
            <list-property name="columnHints">
                <structure>
                    <property name="columnName">name</property>
                    <property name="analysis">dimension</property>
                    <text-property name="displayName">name</text-property>
                    <text-property name="heading">name</text-property>
                </structure>
                <structure>
                    <property name="columnName">device_total</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">device_total</text-property>
                    <text-property name="heading">device_total</text-property>
                </structure>
                <structure>
                    <property name="columnName">application_id</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">application_id</text-property>
                    <text-property name="heading">application_id</text-property>
                </structure>
                <structure>
                    <property name="columnName">r_count</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">r_count</text-property>
                    <property name="onColumnLayout">false</property>
                    <text-property name="heading">r_count</text-property>
                </structure>
                <structure>
                    <property name="columnName">i_count</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">i_count</text-property>
                    <property name="onColumnLayout">false</property>
                    <text-property name="heading">i_count</text-property>
                </structure>
                <structure>
                    <property name="columnName">adv_active_count</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">adv_active_count</text-property>
                    <text-property name="heading">adv_active_count</text-property>
                </structure>
                <structure>
                    <property name="columnName">adv_income</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">adv_income</text-property>
                    <text-property name="heading">adv_income</text-property>
                </structure>
                <structure>
                    <property name="columnName">r_cost</property>
                    <property name="analysis">measure</property>
                    <text-property name="displayName">r_cost</text-property>
                    <text-property name="heading">r_cost</text-property>
                </structure>
            </list-property>
            <list-property name="parameters">
                <structure>
                    <property name="name">param_1</property>
                    <property name="paramName">date_start</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">-1</property>
                    <property name="position">1</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_2</property>
                    <property name="paramName">date_end</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">-1</property>
                    <property name="position">2</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_3</property>
                    <property name="paramName">date_start</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">-1</property>
                    <property name="position">3</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_4</property>
                    <property name="paramName">date_end</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">-1</property>
                    <property name="position">4</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_5</property>
                    <property name="paramName">date_start</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">-1</property>
                    <property name="position">5</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_6</property>
                    <property name="paramName">date_end</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">-1</property>
                    <property name="position">6</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_7</property>
                    <property name="paramName">date_start</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">-1</property>
                    <property name="position">7</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_8</property>
                    <property name="paramName">date_end</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">-1</property>
                    <property name="position">8</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_9</property>
                    <property name="paramName">date_start</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">-1</property>
                    <property name="position">9</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
                <structure>
                    <property name="name">param_10</property>
                    <property name="paramName">date_end</property>
                    <property name="nativeName"></property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">-1</property>
                    <property name="position">10</property>
                    <property name="isInput">true</property>
                    <property name="isOutput">false</property>
                </structure>
            </list-property>
            <structure name="cachedMetaData">
                <list-property name="resultSet">
                    <structure>
                        <property name="position">1</property>
                        <property name="name">name</property>
                        <property name="dataType">string</property>
                    </structure>
                    <structure>
                        <property name="position">2</property>
                        <property name="name">device_total</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">3</property>
                        <property name="name">application_id</property>
                        <property name="dataType">integer</property>
                    </structure>
                    <structure>
                        <property name="position">4</property>
                        <property name="name">r_count</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">5</property>
                        <property name="name">i_count</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">6</property>
                        <property name="name">adv_active_count</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">7</property>
                        <property name="name">adv_income</property>
                        <property name="dataType">decimal</property>
                    </structure>
                    <structure>
                        <property name="position">8</property>
                        <property name="name">r_cost</property>
                        <property name="dataType">decimal</property>
                    </structure>
                </list-property>
            </structure>
            <property name="dataSource">Data Source</property>
            <list-property name="resultSet">
                <structure>
                    <property name="position">1</property>
                    <property name="name">name</property>
                    <property name="nativeName">name</property>
                    <property name="dataType">string</property>
                    <property name="nativeDataType">12</property>
                </structure>
                <structure>
                    <property name="position">2</property>
                    <property name="name">device_total</property>
                    <property name="nativeName">device_total</property>
                    <property name="dataType">decimal</property>
                    <property name="nativeDataType">-5</property>
                </structure>
                <structure>
                    <property name="position">3</property>
                    <property name="name">application_id</property>
                    <property name="nativeName">application_id</property>
                    <property name="dataType">integer</property>
                    <property name="nativeDataType">4</property>
                </structure>
                <structure>
                    <property name="position">4</property>
                    <property name="name">r_count</property>
                    <property name="nativeName">r_count</property>
                    <property name="dataType">decimal</property>
                    <property name="nativeDataType">3</property>
                </structure>
                <structure>
                    <property name="position">5</property>
                    <property name="name">i_count</property>
                    <property name="nativeName">i_count</property>
                    <property name="dataType">decimal</property>
                    <property name="nativeDataType">3</property>
                </structure>
                <structure>
                    <property name="position">6</property>
                    <property name="name">adv_active_count</property>
                    <property name="nativeName">adv_active_count</property>
                    <property name="dataType">decimal</property>
                    <property name="nativeDataType">3</property>
                </structure>
                <structure>
                    <property name="position">7</property>
                    <property name="name">adv_income</property>
                    <property name="nativeName">adv_income</property>
                    <property name="dataType">decimal</property>
                    <property name="nativeDataType">3</property>
                </structure>
                <structure>
                    <property name="position">8</property>
                    <property name="name">r_cost</property>
                    <property name="nativeName">r_cost</property>
                    <property name="dataType">decimal</property>
                    <property name="nativeDataType">3</property>
                </structure>
            </list-property>
            <xml-property name="queryText"><![CDATA[select app_active.name,
       app_active.device_total,
       t2.*,
       app_cost.r_cost
  from(
select app.id, app.`name`, count(1) as device_total
  from `tmp_ad_devices` as app_device
  left join `applications` as app on app.id= app_device.`application_id`
 where app_device.`created_at`> ?
   and app_device.`created_at`< date_add(date(?), INTERVAL 1 DAY)
 GROUP BY app.id) as app_active
  left join(
select t.application_id, sum(t.r_count) as r_count, sum(t.i_count) as i_count, sum(t.active_count) as adv_active_count, sum(t.active_count*t.price) as adv_income
  from(
select c.*, c.i_count/b.i_count as i_rate,(c.i_count/b.i_count) *a.adv_active_count as active_count, `adv_contents`.`price`
  from(
select `adv_content_id`, `application_id`, sum(read_count) as r_count, sum(install_count) as i_count
  from `adv_statistics`
 where adv_statistics.`created_at`> ?
   and adv_statistics.`created_at`< date_add(date(?), INTERVAL 1 DAY)
 group by `adv_content_id`, `application_id`) as c
  left join(
select `adv_content_id`, sum(install_count) as i_count
  from `adv_statistics`
 where adv_statistics.`created_at`> ?
   and adv_statistics.`created_at`< date_add(date(?), INTERVAL 1 DAY)
 group by `adv_content_id`) as b on c.adv_content_id= b.adv_content_id
  left join(
select `adv_content_id`, sum(`count`) as adv_active_count
  from `adv_advertiser_reports`
 where `report_date`> ?
   and `report_date`< date_add(date(?), INTERVAL 1 DAY)
 GROUP BY `adv_content_id`) as a on c.adv_content_id= a.adv_content_id
  left join `adv_contents` on `adv_contents` .id= c.adv_content_id) as t
 group by t.application_id) as t2 on app_active.id= t2.application_id
  left join(
select application_id, sum(real_cost) as r_cost
  from adv_application_costs
 where adv_application_costs.`stat_date`> ?
   and adv_application_costs.`stat_date`< date_add(date(?), INTERVAL 1 DAY)
 GROUP BY application_id) as app_cost on app_cost.application_id= t2.application_id
 order by (adv_income-r_cost) desc]]></xml-property>
            <xml-property name="designerValues"><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<model:DesignValues xmlns:design="http://www.eclipse.org/datatools/connectivity/oda/design" xmlns:model="http://www.eclipse.org/birt/report/model/adapter/odaModel">
  <Version>2.0</Version>
  <DataSetParameters>
    <parameter>
      <design:ParameterDefinition>
        <design:inOutMode>In</design:inOutMode>
        <design:attributes>
          <design:identifier>
            <design:name></design:name>
            <design:position>1</design:position>
          </design:identifier>
          <design:nativeDataTypeCode>-1</design:nativeDataTypeCode>
          <design:precision>0</design:precision>
          <design:scale>0</design:scale>
          <design:nullability>Unknown</design:nullability>
        </design:attributes>
      </design:ParameterDefinition>
    </parameter>
    <parameter>
      <design:ParameterDefinition>
        <design:inOutMode>In</design:inOutMode>
        <design:attributes>
          <design:identifier>
            <design:name></design:name>
            <design:position>2</design:position>
          </design:identifier>
          <design:nativeDataTypeCode>-1</design:nativeDataTypeCode>
          <design:precision>0</design:precision>
          <design:scale>0</design:scale>
          <design:nullability>Unknown</design:nullability>
        </design:attributes>
      </design:ParameterDefinition>
    </parameter>
    <parameter>
      <design:ParameterDefinition>
        <design:inOutMode>In</design:inOutMode>
        <design:attributes>
          <design:identifier>
            <design:name></design:name>
            <design:position>3</design:position>
          </design:identifier>
          <design:nativeDataTypeCode>-1</design:nativeDataTypeCode>
          <design:precision>0</design:precision>
          <design:scale>0</design:scale>
          <design:nullability>Unknown</design:nullability>
        </design:attributes>
      </design:ParameterDefinition>
    </parameter>
    <parameter>
      <design:ParameterDefinition>
        <design:inOutMode>In</design:inOutMode>
        <design:attributes>
          <design:identifier>
            <design:name></design:name>
            <design:position>4</design:position>
          </design:identifier>
          <design:nativeDataTypeCode>-1</design:nativeDataTypeCode>
          <design:precision>0</design:precision>
          <design:scale>0</design:scale>
          <design:nullability>Unknown</design:nullability>
        </design:attributes>
      </design:ParameterDefinition>
    </parameter>
    <parameter>
      <design:ParameterDefinition>
        <design:inOutMode>In</design:inOutMode>
        <design:attributes>
          <design:identifier>
            <design:name></design:name>
            <design:position>5</design:position>
          </design:identifier>
          <design:nativeDataTypeCode>-1</design:nativeDataTypeCode>
          <design:precision>0</design:precision>
          <design:scale>0</design:scale>
          <design:nullability>Unknown</design:nullability>
        </design:attributes>
      </design:ParameterDefinition>
    </parameter>
    <parameter>
      <design:ParameterDefinition>
        <design:inOutMode>In</design:inOutMode>
        <design:attributes>
          <design:identifier>
            <design:name></design:name>
            <design:position>6</design:position>
          </design:identifier>
          <design:nativeDataTypeCode>-1</design:nativeDataTypeCode>
          <design:precision>0</design:precision>
          <design:scale>0</design:scale>
          <design:nullability>Unknown</design:nullability>
        </design:attributes>
      </design:ParameterDefinition>
    </parameter>
    <parameter>
      <design:ParameterDefinition>
        <design:inOutMode>In</design:inOutMode>
        <design:attributes>
          <design:identifier>
            <design:name></design:name>
            <design:position>7</design:position>
          </design:identifier>
          <design:nativeDataTypeCode>-1</design:nativeDataTypeCode>
          <design:precision>0</design:precision>
          <design:scale>0</design:scale>
          <design:nullability>Unknown</design:nullability>
        </design:attributes>
      </design:ParameterDefinition>
    </parameter>
    <parameter>
      <design:ParameterDefinition>
        <design:inOutMode>In</design:inOutMode>
        <design:attributes>
          <design:identifier>
            <design:name></design:name>
            <design:position>8</design:position>
          </design:identifier>
          <design:nativeDataTypeCode>-1</design:nativeDataTypeCode>
          <design:precision>0</design:precision>
          <design:scale>0</design:scale>
          <design:nullability>Unknown</design:nullability>
        </design:attributes>
      </design:ParameterDefinition>
    </parameter>
    <parameter>
      <design:ParameterDefinition>
        <design:inOutMode>In</design:inOutMode>
        <design:attributes>
          <design:identifier>
            <design:name></design:name>
            <design:position>9</design:position>
          </design:identifier>
          <design:nativeDataTypeCode>-1</design:nativeDataTypeCode>
          <design:precision>0</design:precision>
          <design:scale>0</design:scale>
          <design:nullability>Unknown</design:nullability>
        </design:attributes>
      </design:ParameterDefinition>
    </parameter>
    <parameter>
      <design:ParameterDefinition>
        <design:inOutMode>In</design:inOutMode>
        <design:attributes>
          <design:identifier>
            <design:name></design:name>
            <design:position>10</design:position>
          </design:identifier>
          <design:nativeDataTypeCode>-1</design:nativeDataTypeCode>
          <design:precision>0</design:precision>
          <design:scale>0</design:scale>
          <design:nullability>Unknown</design:nullability>
        </design:attributes>
      </design:ParameterDefinition>
    </parameter>
  </DataSetParameters>
  <design:ResultSets derivedMetaData="true">
    <design:resultSetDefinitions>
      <design:resultSetColumns>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>id</design:name>
              <design:position>1</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>4</design:nativeDataTypeCode>
            <design:precision>11</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>NotNullable</design:nullability>
            <design:uiHints>
              <design:displayName>id</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>id</design:label>
            <design:formattingHints>
              <design:displaySize>11</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>username</design:name>
              <design:position>2</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>255</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>username</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>username</design:label>
            <design:formattingHints>
              <design:displaySize>255</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>phone</design:name>
              <design:position>3</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>255</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>phone</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>phone</design:label>
            <design:formattingHints>
              <design:displaySize>255</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>id</design:name>
              <design:position>4</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>4</design:nativeDataTypeCode>
            <design:precision>11</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>black_id</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>black_id</design:label>
            <design:formattingHints>
              <design:displaySize>11</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>username</design:name>
              <design:position>5</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>255</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>black_username</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>black_username</design:label>
            <design:formattingHints>
              <design:displaySize>255</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
        <design:resultColumnDefinitions>
          <design:attributes>
            <design:identifier>
              <design:name>phone</design:name>
              <design:position>6</design:position>
            </design:identifier>
            <design:nativeDataTypeCode>12</design:nativeDataTypeCode>
            <design:precision>255</design:precision>
            <design:scale>0</design:scale>
            <design:nullability>Nullable</design:nullability>
            <design:uiHints>
              <design:displayName>black_phone</design:displayName>
            </design:uiHints>
          </design:attributes>
          <design:usageHints>
            <design:label>black_phone</design:label>
            <design:formattingHints>
              <design:displaySize>255</design:displaySize>
            </design:formattingHints>
          </design:usageHints>
        </design:resultColumnDefinitions>
      </design:resultSetColumns>
      <design:criteria/>
    </design:resultSetDefinitions>
  </design:ResultSets>
</model:DesignValues>]]></xml-property>
        </oda-data-set>
    </data-sets>
    <page-setup>
        <simple-master-page name="Simple MasterPage" id="2">
            <page-footer>
                <text id="3">
                    <property name="contentType">html</property>
                    <text-property name="content"><![CDATA[<value-of>new Date()</value-of>]]></text-property>
                </text>
            </page-footer>
        </simple-master-page>
    </page-setup>
    <body>
        <text-data id="255">
            <property name="style">s-params-block</property>
            <expression name="valueExpr">"开始日期："+params["date_start"].value+
"&lt;br>结束日期："+params["date_end"].value</expression>
            <property name="contentType">html</property>
        </text-data>
        <table id="568">
            <property name="dataSet">ds_001</property>
            <list-property name="boundDataColumns">
                <structure>
                    <property name="name">name</property>
                    <text-property name="displayName">name</text-property>
                    <expression name="expression" type="javascript">dataSetRow["name"]</expression>
                    <property name="dataType">string</property>
                </structure>
                <structure>
                    <property name="name">application_id</property>
                    <text-property name="displayName">application_id</text-property>
                    <expression name="expression" type="javascript">dataSetRow["application_id"]</expression>
                    <property name="dataType">integer</property>
                </structure>
                <structure>
                    <property name="name">r_count</property>
                    <text-property name="displayName">r_count</text-property>
                    <expression name="expression" type="javascript">dataSetRow["r_count"]</expression>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="name">i_count</property>
                    <text-property name="displayName">i_count</text-property>
                    <expression name="expression" type="javascript">dataSetRow["i_count"]</expression>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="name">adv_active_count</property>
                    <text-property name="displayName">adv_active_count</text-property>
                    <expression name="expression" type="javascript">dataSetRow["adv_active_count"]</expression>
                    <property name="dataType">integer</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">adv_income</property>
                    <text-property name="displayName">adv_income</text-property>
                    <expression name="expression" type="javascript">BirtMath.round(dataSetRow["adv_income"],2)</expression>
                    <property name="dataType">decimal</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">r_cost</property>
                    <text-property name="displayName">r_cost</text-property>
                    <expression name="expression" type="javascript">BirtMath.round(dataSetRow["r_cost"],2)</expression>
                    <property name="dataType">decimal</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">device_total</property>
                    <text-property name="displayName">device_total</text-property>
                    <expression name="expression" type="javascript">dataSetRow["device_total"]</expression>
                    <property name="dataType">decimal</property>
                </structure>
                <structure>
                    <property name="name">Column Binding</property>
                    <expression name="expression" type="javascript">row.__rownum+1</expression>
                    <property name="dataType">string</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">show_rate</property>
                    <expression name="expression" type="javascript">if(row["device_total"]==0||row["device_total"]==undefined){
	0
}else{
BirtMath.round(row["r_count"]/row["device_total"],3)
}</expression>
                    <property name="dataType">float</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">install_rate</property>
                    <expression name="expression" type="javascript">if(row["device_total"]==0||row["device_total"]==undefined){
	0
}else{
BirtMath.round(row["i_count"]/row["device_total"],3)
}</expression>
                    <property name="dataType">float</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">active_rate</property>
                    <expression name="expression" type="javascript">if(row["i_count"]==0||row["i_count"]==undefined){
	0
}else{
BirtMath.round(row["adv_active_count"]/row["i_count"],3)
}</expression>
                    <property name="dataType">float</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">arpu</property>
                    <expression name="expression" type="javascript">if(row["device_total"]==0||row["device_total"]==undefined){
	0
}else{
BirtMath.round(row["adv_income"]/row["device_total"],3)
}</expression>
                    <property name="dataType">float</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">cpa</property>
                    <expression name="expression" type="javascript">if(row["device_total"]==0||row["device_total"]==undefined){
	0
}else{
BirtMath.round(row["r_cost"]/row["device_total"],3)
}</expression>
                    <property name="dataType">float</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">roi</property>
                    <expression name="expression" type="javascript">if(row["r_cost"]==0||row["r_cost"]==undefined){
	0
}else{
BirtMath.round(row["adv_income"]/row["r_cost"],3)
}</expression>
                    <property name="dataType">float</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">t_device_total</property>
                    <property name="dataType">float</property>
                    <property name="aggregateFunction">SUM</property>
                    <list-property name="arguments">
                        <structure>
                            <property name="name">Expression</property>
                            <expression name="value" type="javascript">row["device_total"]</expression>
                        </structure>
                    </list-property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">t_r_count</property>
                    <property name="dataType">float</property>
                    <property name="aggregateFunction">SUM</property>
                    <list-property name="arguments">
                        <structure>
                            <property name="name">Expression</property>
                            <expression name="value" type="javascript">row["r_count"]</expression>
                        </structure>
                    </list-property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">t_show_rate</property>
                    <expression name="expression" type="javascript">BirtMath.round(row["t_r_count"]/row["t_device_total"],3)</expression>
                    <property name="dataType">float</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">t_i_count</property>
                    <property name="dataType">float</property>
                    <property name="aggregateFunction">SUM</property>
                    <list-property name="arguments">
                        <structure>
                            <property name="name">Expression</property>
                            <expression name="value" type="javascript">row["i_count"]</expression>
                        </structure>
                    </list-property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">t_adv_active_count</property>
                    <property name="dataType">float</property>
                    <property name="aggregateFunction">SUM</property>
                    <list-property name="arguments">
                        <structure>
                            <property name="name">Expression</property>
                            <expression name="value" type="javascript">row["adv_active_count"]</expression>
                        </structure>
                    </list-property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">t_adv_income</property>
                    <property name="dataType">float</property>
                    <property name="aggregateFunction">SUM</property>
                    <list-property name="arguments">
                        <structure>
                            <property name="name">Expression</property>
                            <expression name="value" type="javascript">row["adv_income"]</expression>
                        </structure>
                    </list-property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">t_r_cost</property>
                    <property name="dataType">float</property>
                    <property name="aggregateFunction">SUM</property>
                    <list-property name="arguments">
                        <structure>
                            <property name="name">Expression</property>
                            <expression name="value" type="javascript">row["r_cost"]</expression>
                        </structure>
                    </list-property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">t_install_rate</property>
                    <expression name="expression" type="javascript">BirtMath.round(row["t_i_count"]/row["t_device_total"],3)</expression>
                    <property name="dataType">float</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">t_active_rate</property>
                    <expression name="expression" type="javascript">BirtMath.round(row["t_adv_active_count"]/row["t_i_count"],3)</expression>
                    <property name="dataType">float</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">t_arpu</property>
                    <expression name="expression" type="javascript">BirtMath.round(row["t_adv_income"]/row["t_device_total"],3)</expression>
                    <property name="dataType">float</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">t_cpa</property>
                    <expression name="expression" type="javascript">BirtMath.round(row["t_r_cost"]/row["t_device_total"],3)</expression>
                    <property name="dataType">float</property>
                    <property name="allowExport">true</property>
                </structure>
                <structure>
                    <property name="name">t_roi</property>
                    <expression name="expression" type="javascript">BirtMath.round(row["t_adv_income"]/row["t_r_cost"],3)</expression>
                    <property name="dataType">float</property>
                    <property name="allowExport">true</property>
                </structure>
            </list-property>
            <column id="625"/>
            <column id="607"/>
            <column id="618"/>
            <column id="609"/>
            <column id="632"/>
            <column id="610"/>
            <column id="638"/>
            <column id="611"/>
            <column id="648"/>
            <column id="612"/>
            <column id="654"/>
            <column id="613"/>
            <column id="660"/>
            <column id="666"/>
            <header>
                <row id="569">
                    <cell id="622">
                        <label id="626">
                            <property name="textAlign">left</property>
                            <text-property name="text">排名</text-property>
                        </label>
                    </cell>
                    <cell id="570">
                        <label id="571">
                            <property name="textAlign">left</property>
                            <text-property name="text">应用(坑)名</text-property>
                        </label>
                    </cell>
                    <cell id="615">
                        <label id="619">
                            <property name="textAlign">left</property>
                            <text-property name="text">APP激活用户</text-property>
                        </label>
                    </cell>
                    <cell id="574">
                        <label id="575">
                            <property name="textAlign">left</property>
                            <text-property name="text">展示</text-property>
                        </label>
                    </cell>
                    <cell id="629">
                        <label id="633">
                            <property name="textAlign">left</property>
                            <text-property name="text">展示率</text-property>
                        </label>
                    </cell>
                    <cell id="576">
                        <label id="577">
                            <property name="textAlign">left</property>
                            <text-property name="text">安装完成</text-property>
                        </label>
                    </cell>
                    <cell id="635">
                        <label id="639">
                            <text-property name="text">安装率</text-property>
                        </label>
                    </cell>
                    <cell id="578">
                        <label id="579">
                            <property name="textAlign">left</property>
                            <text-property name="text">激活</text-property>
                        </label>
                    </cell>
                    <cell id="645">
                        <label id="649">
                            <property name="textAlign">left</property>
                            <text-property name="text">激活率</text-property>
                        </label>
                    </cell>
                    <cell id="580">
                        <label id="581">
                            <property name="textAlign">left</property>
                            <text-property name="text">收入</text-property>
                        </label>
                    </cell>
                    <cell id="651">
                        <label id="655">
                            <property name="textAlign">left</property>
                            <text-property name="text">ARPU</text-property>
                        </label>
                    </cell>
                    <cell id="582">
                        <label id="583">
                            <property name="textAlign">left</property>
                            <text-property name="text">投入</text-property>
                        </label>
                    </cell>
                    <cell id="657">
                        <label id="661">
                            <property name="textAlign">left</property>
                            <text-property name="text">CPA</text-property>
                        </label>
                    </cell>
                    <cell id="663">
                        <label id="667">
                            <property name="textAlign">left</property>
                            <text-property name="text">ROI</text-property>
                        </label>
                    </cell>
                </row>
            </header>
            <detail>
                <row id="584">
                    <cell id="623">
                        <data id="627">
                            <property name="resultSetColumn">Column Binding</property>
                        </data>
                    </cell>
                    <cell id="585">
                        <image id="628">
                            <property name="display">inline</property>
                            <property name="height">15px</property>
                            <property name="width">15px</property>
                            <property name="source">url</property>
                            <expression name="uri" type="javascript">"http://birt.aihuo360.com/myapps/icon?pkg="+row["name"].replace(/.*\(/,'').replace(")",'')</expression>
                        </image>
                        <data id="586">
                            <property name="display">inline</property>
                            <property name="resultSetColumn">name</property>
                            <list-property name="action">
                                <structure>
                                    <property name="linkType">hyperlink</property>
                                    <property name="toolTip">应用宝详情</property>
                                    <expression name="uri" type="javascript">"http://android.myapp.com/myapp/detail.htm?apkName="+row["name"].replace(/.*\(/,'').replace(")",'')</expression>
                                    <property name="targetWindow">_blank</property>
                                </structure>
                            </list-property>
                        </data>
                    </cell>
                    <cell id="616">
                        <data id="620">
                            <property name="resultSetColumn">device_total</property>
                        </data>
                    </cell>
                    <cell id="589">
                        <data id="590">
                            <property name="resultSetColumn">r_count</property>
                        </data>
                    </cell>
                    <cell id="630">
                        <data id="634">
                            <property name="resultSetColumn">show_rate</property>
                        </data>
                    </cell>
                    <cell id="591">
                        <data id="592">
                            <property name="resultSetColumn">i_count</property>
                        </data>
                    </cell>
                    <cell id="636">
                        <data id="640">
                            <property name="resultSetColumn">install_rate</property>
                        </data>
                    </cell>
                    <cell id="593">
                        <data id="594">
                            <property name="resultSetColumn">adv_active_count</property>
                        </data>
                    </cell>
                    <cell id="646">
                        <data id="650">
                            <property name="resultSetColumn">active_rate</property>
                        </data>
                    </cell>
                    <cell id="595">
                        <data id="596">
                            <property name="resultSetColumn">adv_income</property>
                        </data>
                    </cell>
                    <cell id="652">
                        <data id="656">
                            <property name="resultSetColumn">arpu</property>
                        </data>
                    </cell>
                    <cell id="597">
                        <data id="598">
                            <property name="resultSetColumn">r_cost</property>
                        </data>
                    </cell>
                    <cell id="658">
                        <data id="662">
                            <property name="resultSetColumn">cpa</property>
                        </data>
                    </cell>
                    <cell id="664">
                        <data id="668">
                            <property name="resultSetColumn">roi</property>
                        </data>
                    </cell>
                </row>
            </detail>
            <footer>
                <row id="599">
                    <cell id="624">
                        <label id="621">
                            <text-property name="text">合计</text-property>
                        </label>
                    </cell>
                    <cell id="600"/>
                    <cell id="617">
                        <data id="670">
                            <property name="resultSetColumn">t_device_total</property>
                        </data>
                    </cell>
                    <cell id="602">
                        <data id="671">
                            <property name="resultSetColumn">t_r_count</property>
                        </data>
                    </cell>
                    <cell id="631">
                        <data id="673">
                            <property name="resultSetColumn">t_show_rate</property>
                        </data>
                    </cell>
                    <cell id="603">
                        <data id="674">
                            <property name="resultSetColumn">t_i_count</property>
                        </data>
                    </cell>
                    <cell id="637">
                        <data id="680">
                            <property name="resultSetColumn">t_install_rate</property>
                        </data>
                    </cell>
                    <cell id="604">
                        <data id="676">
                            <property name="resultSetColumn">t_adv_active_count</property>
                        </data>
                    </cell>
                    <cell id="647">
                        <data id="681">
                            <property name="resultSetColumn">t_active_rate</property>
                        </data>
                    </cell>
                    <cell id="605">
                        <data id="677">
                            <property name="resultSetColumn">t_adv_income</property>
                        </data>
                    </cell>
                    <cell id="653">
                        <data id="683">
                            <property name="resultSetColumn">t_arpu</property>
                        </data>
                    </cell>
                    <cell id="606">
                        <data id="678">
                            <property name="resultSetColumn">t_r_cost</property>
                        </data>
                    </cell>
                    <cell id="659">
                        <data id="684">
                            <property name="resultSetColumn">t_cpa</property>
                        </data>
                    </cell>
                    <cell id="665">
                        <data id="685">
                            <property name="resultSetColumn">t_roi</property>
                        </data>
                    </cell>
                </row>
            </footer>
        </table>
    </body>
</report>
